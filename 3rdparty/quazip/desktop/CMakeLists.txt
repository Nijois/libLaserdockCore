if(QT_VERSION_MAJOR EQUAL 6)
    set_property(TARGET quazip PROPERTY INTERFACE_INCLUDE_DIRECTORIES "${CMAKE_CURRENT_LIST_DIR}/include/qt6")
else()
    set_property(TARGET quazip PROPERTY INTERFACE_INCLUDE_DIRECTORIES "${CMAKE_CURRENT_LIST_DIR}/include/qt5")
endif()

if(WIN32)

    if(QT_VERSION_MAJOR EQUAL 6)
        if(LD_WINX64_BUILD)
            if (CMAKE_BUILD_TYPE STREQUAL "Debug")
                set(QUAZAIP_LIBRARY "${CMAKE_CURRENT_LIST_DIR}/lib/win64/debug/quazip1-qt6d.lib")
                set(QUAZAIP_DLL "${CMAKE_CURRENT_LIST_DIR}/lib/win64/debug/quazip1-qt6d.dll")
            else()
                set(QUAZAIP_LIBRARY "${CMAKE_CURRENT_LIST_DIR}/lib/win64/release/quazip1-qt6.lib")
                set(QUAZAIP_DLL "${CMAKE_CURRENT_LIST_DIR}/lib/win64/release/quazip1-qt6.dll")
            endif()
        else()
            message(FATAL_ERROR "quazip is not supported for Qt6 on 32-bit platforms")
        endif()
    else()
        if(LD_WINX64_BUILD)
            if (CMAKE_BUILD_TYPE STREQUAL "Debug")
                set(QUAZAIP_LIBRARY "${CMAKE_CURRENT_LIST_DIR}/lib/win64/debug/quazip.lib")
                set(QUAZAIP_DLL "${CMAKE_CURRENT_LIST_DIR}/lib/win64/debug/quazip.dll")
            else()
                set(QUAZAIP_LIBRARY "${CMAKE_CURRENT_LIST_DIR}/lib/win64/release/quazip.lib")
                set(QUAZAIP_DLL "${CMAKE_CURRENT_LIST_DIR}/lib/win64/release/quazip.dll")
            endif()
        else()
            if (CMAKE_BUILD_TYPE STREQUAL "Debug")
                set(QUAZAIP_LIBRARY "${CMAKE_CURRENT_LIST_DIR}/lib/win/debug/quazip.lib")
                set(QUAZAIP_DLL "${CMAKE_CURRENT_LIST_DIR}/lib/win/debug/quazip.dll")
            else()
                set(QUAZAIP_LIBRARY "${CMAKE_CURRENT_LIST_DIR}/lib/win/release/quazip.lib")
                set(QUAZAIP_DLL "${CMAKE_CURRENT_LIST_DIR}/lib/win/release/quazip.dll")
            endif()
        endif()
    endif()

    set_property(TARGET quazip PROPERTY IMPORTED_LOCATION "${QUAZAIP_DLL}")
    set_property(TARGET quazip PROPERTY IMPORTED_IMPLIB "${QUAZAIP_LIBRARY}")
endif()

if(LINUX)
    if(QT_VERSION_MAJOR EQUAL 6)
        set_property(TARGET quazip PROPERTY IMPORTED_LOCATION "${CMAKE_CURRENT_LIST_DIR}/lib/linux/libquazip1-qt6.so.1.4")
    else()
        set_property(TARGET quazip PROPERTY IMPORTED_LOCATION "${CMAKE_CURRENT_LIST_DIR}/lib/linux/libquazip.so")
    endif()
endif()
